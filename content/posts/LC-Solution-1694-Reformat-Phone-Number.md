---
title: LC-Solution 1694. Reformat Phone Number
date: 2022-10-03 20:57:06
tags: [算法]
categories: [Leetcode题解]
---

# [1694. 重新格式化电话号码](https://leetcode.cn/problems/reformat-phone-number/)

## 题目描述

给你一个字符串形式的电话号码 `number` 。`number` 由数字、空格 `' '`、和破折号` '-' `组成。

请你按下述方式重新格式化电话号码。

- 首先，删除 所有的空格和破折号。
  
- 其次，将数组从左到右 每 3 个一组 分块，直到 剩下 4 个或更少数字。剩下的数字将按下述规定再分块：
  
  - 2 个数字：单个含 2 个数字的块。
    
  - 3 个数字：单个含 3 个数字的块。
    
  - 4 个数字：两个分别含 2 个数字的块。
    
- 最后用破折号将这些块连接起来。注意，重新格式化过程中 不应该 生成仅含 1 个数字的块，并且 最多 生成两个含 2 个数字的块。
  

返回格式化后的电话号码。

**示例1：**

```
输入：number = "1-23-45 6"
输出："123-456"
解释：数字是 "123456"
步骤 1：共有超过 4 个数字，所以先取 3 个数字分为一组。第 1 个块是 "123" 。
步骤 2：剩下 3 个数字，将它们放入单个含 3 个数字的块。第 2 个块是 "456" 。
连接这些块后得到 "123-456" 。
```

**示例2：**

```
输入：number = "123 4-567"
输出："123-45-67"
解释：数字是 "1234567".
步骤 1：共有超过 4 个数字，所以先取 3 个数字分为一组。第 1 个块是 "123" 。
步骤 2：剩下 4 个数字，所以将它们分成两个含 2 个数字的块。这 2 块分别是 "45" 和 "67" 。
连接这些块后得到 "123-45-67" 。
```

**示例3：**

```
输入：number = "123 4-5678"
输出："123-456-78"
解释：数字是 "12345678" 。
步骤 1：第 1 个块 "123" 。
步骤 2：第 2 个块 "456" 。
步骤 3：剩下 2 个数字，将它们放入单个含 2 个数字的块。第 3 个块是 "78" 。
连接这些块后得到 "123-456-78" 。
```

**示例4：**

```
输入：number = "12"
输出："12"
```

**示例5：**

```
输入：number = "--17-5 229 35-39475 "
输出："175-229-353-94-75"
```

## 解决方案

### 方法一：简单模拟

先预处理`number`字符串，去除字符串中除数字之外的字符。

定义`res`为字符串列表，其中的每一个字符串最终需要以`'-'`分割。

根据题意分析循环过程中的if条件（`i`表示当前遍历位置，`s`表示预处理后的字符串）：

- 若当前位置`i + 4 == len(s)`，将`s[i:i+2]`与`s[i+2:i+4]`切片追加到`res`列表
  
- 否则，直接将`s[i:i+3]`切片追加到`res`列表
  
  - 这里隐藏了一点：`i + 2 == len(s)`的特殊情况已经考虑在else情况中：
    
    - 巧妙利用了Python的切片性质：右边界超出字符串长度时，直接将字符串长度作为右边界。

理清模拟逻辑后，开始编写代码，注意循环的`step`为3，最后用`'-'`将res拼接。

#### Python

```python
class Solution:
    def reformatNumber(self, number: str) -> str:
        s = number.replace(' ', '').replace('-', '')
        res = []
        for i in range(0, len(s), 3):
            if i + 4 == len(s):
                res.append(s[i:i + 2])
                res.append(s[i + 2:i + 4])   
                break
            else:
                res.append(s[i: i + 3])
        return '-'.join(res)
```

## Encouragement

目前就读于新加坡国立大学，转码菜鸡一枚。

决心通过日更一篇题解激励自己坚持刷题，坚持学习算法。

这是我搭建[Leetcode-Everyday](https://github.com/ltyzzzxxx/Leetcode-Everyday)仓库后发布の第4篇题解，欢迎各位star并提出Issue~

点击[这里](https://leetcode.cn/u/ltyzzz/)，进入我的个人Leetcode主页~